- [第4章 运算符](#第4章-运算符)
  - [运算符介绍](#运算符介绍)
  - [算术运算符](#算术运算符)
    - [面试题](#面试题)
  - [关系运算符](#关系运算符)
    - [介绍](#介绍)
    - [关系运算符一览](#关系运算符一览)
    - [细节说明](#细节说明)
  - [逻辑运算符](#逻辑运算符)
    - [介绍](#介绍-1)
    - [逻辑运算符一览](#逻辑运算符一览)
    - [&&和&区别](#和区别)
    - [||和|使用区别](#和使用区别)
    - [练习题1](#练习题1)
    - [练习题2](#练习题2)
  - [赋值运算符](#赋值运算符)
    - [赋值运算符的分类](#赋值运算符的分类)
    - [赋值运算符特点](#赋值运算符特点)
  - [三元运算符](#三元运算符)
  - [运算符优先级](#运算符优先级)
  - [标识符的命名规则和规范](#标识符的命名规则和规范)
  - [关键字](#关键字)
  - [保留字](#保留字)
  - [键盘输入语句](#键盘输入语句)
  - [进制](#进制)
    - [进制介绍](#进制介绍)
    - [进制的转换](#进制的转换)
  - [位运算的思考题](#位运算的思考题)
  - [🌟🌟🌟原码、反码、补码](#原码反码补码)

# 第4章 运算符
## 运算符介绍
运算符是一种特殊的符号，用以表示数据的运算、赋值和比较等。 
1) 算术运算符
2) 赋值运算符
3) 关系运算符 [比较运算符] 
4) 逻辑运算符
5) 位运算符 [需要二进制基础] 
6) 三元运算符

## 算术运算符

<img src="/notes/img-ch4/ArithmeticOperator.png">

[ArithmeticOperator.java](/code/chapter04/src/ArithmeticOperator.java)
* **`%`取模：本质是 `a % b = a - a / b * b`**
    ```java
    System.out.println(10 % 3); //1
    System.out.println(-10 % 3); // -1 
    System.out.println(10 % -3); //1 
    System.out.println(-10 % -3);//-1
    ```
* 自增：`++` 自减：`--`
  * **作为独立语言使用，前`++`和后`++`都完全等价于 `i = i + 1`**
  * 前`++`: `++i`先自增后赋值，底层有一个临时变量。
  * 后`++`: `i++`先赋值后自增，底层有一个临时变量。

### 面试题
**面试题1**
```java
int i = 1;//i->1
i = i++; //规则使用临时变量: (1) temp=i;(2) i=i+1;(3)i=temp;
System.out.println(i); // 1
```

**面试题2**
```java
int i=1;
i=++i; //规则使用临时变量: (1) i=i+1;(2) temp=i;(3)i=temp;
System.out.println(i); //2
```

* 🚩注意上述两个面试题中，会使用到临时变量。

## 关系运算符
### 介绍
1) 关系运算符的结果都是boolean型，也就是要么是true，要么是false 
2) 关系表达式经常用在if结构的条件中或循环结构的条件中

### 关系运算符一览

<img src="/notes/img-ch4/relationOperator.png">

### 细节说明
1) 关系运算符的结果都是boolean型，也就是要么是true，要么是false。 
2) 关系运算符组成的表达式，我们称为关系表达式。a>b
3) 比较运算符"=="不能误写成"="

## 逻辑运算符
### 介绍
用于连接多个条件(多个关系表达式)，最终的结果也是一个 boolean 值。
### 逻辑运算符一览
分为两组学习
1) 短路与 &&，短路或||，取反 !
2) 逻辑与 &，逻辑或 |，^ 逻辑异或

<img src="/notes/img-ch4/LogicOperator.png">

▶️  说明逻辑运算规则:
1) a&b : & 叫逻辑与:规则:当 a 和 b 同时为 true ,则结果为 true, 否则为 false
2) a&&b : && 叫短路与:规则:当 a 和 b 同时为 true ,则结果为 true,否则为 false
3) a|b : | 叫逻辑或，规则:当 a 和 b ，有一个为 true ,则结果为 true,否则为 false
4) a||b : || 叫短路或，规则:当 a 和 b ，有一个为 true ,则结果为 true,否则为 false
5) !a : 叫取反，或者非运算。当 a 为 true, 则结果为 false, 当 a 为 false 是，结果为 true
6) a^b: 叫逻辑异或，当 a 和 b 不同时，则结果为 true, 否则为 false

### &&和&区别
1) &&短路与:如果第一个条件为 false，则第二个条件不会判断，最终结果为 false，效率高 
2) & 逻辑与:不管第一个条件是否为 false，第二个条件都要判断，效率低
3) 开发中，我们使用的基本是使用短路与&&, 效率高
### ||和|使用区别
1) ||短路或:如果第一个条件为 true，则第二个条件不会判断，最终结果为 true，效率高 
2) | 逻辑或:不管第一个条件是否为 true，第二个条件都要判断，效率低
3) 开发中，我们基本使用 ||

### 练习题1
写出每道题的输出结果。

<img src="/notes/img-ch4/LogicOperatorEx1.png">

### 练习题2
写出输出结果。

<img src="/notes/img-ch4/LogicOperatorEx2.png">

## 赋值运算符
赋值运算符就是将某个运算后的值，赋给指定的变量。
### 赋值运算符的分类
* 基本赋值运算符 `=` 如 `int a = 10;`
* 复合赋值运算符 += ，-= ，*= ， /= ，%= 等

### 赋值运算符特点
1) 运算顺序从右往左 `int num= a+b+c;`
2) 赋值运算符的左边只能是变量,右边可以是变量、表达式、常量值
  ```java
  int num = 20; 
  int num2 = 78 * 34 - 10; 
  int num3 = a;
  ```
3) 复合赋值运算符等价于下面的效果。
  ```java
  a += 3; //等价于 a=a+3; 其他类推
  ```
4) 复合赋值运算符会进行类型转换。
  ```java
  byte b = 2; 
  //会进行类型转换，等价于 b = (byte)(b + 3); 因此不会报错
  b += 3;  
  b++; //等价于 b = (byte)(b + 1);
  ```

## 三元运算符
▶️  基本语法
```java
条件表达式 ? 表达式 1: 表达式 2;
```

▶️  运算规则:
1. 如果条件表达式为 true，运算后的结果是表达式 1; 
2. 如果条件表达式为 false，运算后的结果是表达式 2;

▶️  细节
1) 表达式1和表达式2要为可以赋给接收变量的类型(或可以自动转换/强制转换) 
  ```java
  int a = 3;
  int b = 8;
  int c = a > b ? (int)1.1 : (int)3.4;//可以的
  double d = a > b ? a : b + 3;//可以的，满足 int->double
  ```
2) 三元运算符可以转成if--else语句

▶️ 课堂练习  
* 实现三个数的最大值 [TernaryOperatorExercise.java](/code/chapter04/src/TernaryOperatorExercise.java)

## 运算符优先级
1) 运算符有不同的优先级，所谓优先级就是表达式运算中的运算顺序。如下表，上一行运算符总优先于下一行。
2) 只有单目运算符、赋值运算符是从右向左运算的。

<img src="/notes/img-ch4/priority.png">

优先级大致顺序为：
* `.` `()` `{}` `;` `,`
* 单目运算符
* 算术运算符
* 位移运算符
* 比较运算符
* 逻辑运算符
* 三元运算符
* 赋值运算符

## 标识符的命名规则和规范
▶️  标识符概念
1. Java对各种变量、方法和类等命名时使用的字符序列称为标识符
2. 凡是自己可以起名字的地方都叫标识符 `int num1 = 90;`

▶️  标识符的命名规则（**必须遵守**）
1. 由26个英文字母大小写，0-9，_或$组成
2. 数字不可以开头。
3. 不可以使用关键字和保留字，但能包含关键字和保留字。
4. Java中严格区分大小写，长度无限制。
5. 标识符不能包含空格。

▶️  标识符命名规范[更加专业]
1) 包名:多单词组成时所有字母都小写:aaa.bbb.ccc //比如 com.hsp.crm
2) 类名、接口名:多单词组成时，所有单词的首字母大写:XxxYyyZzz[大驼峰]，比如: TankShotGame
3) 变量名、方法名:多单词组成时，第一个单词首字母小写，第二个单词开始每个单词首字母大写:xxxYyyZzz [小 驼峰， 简称 驼峰法]，比如: tankShotGame
4) 常量名:所有字母都大写。多单词时每个单词用下划线连接:XXX_YYY_ZZZ 比如 :定义一个所得税率 TAX_RATE

## 关键字
* 关键字的定义和特点 (**不用背**)
* 定义:被 Java 语言赋予了特殊含义，用做**专门用途的字符串**(单词) 
* 特点:关键字中所有字母都为小写

<img src="/notes/img-ch4/keyword1.png">

<img src="/notes/img-ch4/keyword2.png">

## 保留字
Java保留字:现有Java版本尚未使用，但以后版本可能会作为关键字使用。自己命名标识符时要避免使用这些保留字byValue、cast、future、 generic、 inner、operator、 outer、 rest、 var 、 goto 、const

## 键盘输入语句
▶️ 介绍

在编程中，需要接收用户输入的数据，就可以使用键盘输入语句来获取，需要一个扫描器(对象), 就是`Scanner`

▶️ 步骤 [Input.java](/code/chapter04/src/Input.java)
1) 导入该类的所在包, java.util.* 
2) 创建该类对象(声明变量)
3) 调用里面的功能

## 进制
### 进制介绍
对于整数，有四种表示方式:
* 二进制:0,1 ，满2进1.以0b或0B开头。
* 十进制:0-9 ，满 10 进 1。
* 八进制:0-7 ，满 8 进 1. **以数字 0 开头表示**。
* 十六进制:0-9 及 A(10)-F(15)，满 16 进 1. 以 0x 或 0X 开头表示。此处的 A-F 不区分大小写。
```java
int n1 = 0b1010; //n1 二进制
int n2 = 1010; //n2 10 进制
int n3 = 01010; //n3 8 进制
int n4 = 0X10101; //n4 16 进制
```

### 进制的转换
▶️ 第一组
1) 二进制转十进制
2) 八进制转十进制
3) 十六进制转十进制

<img src="/notes/img-ch4/binToDec.png">

▶️ 第二组
1) 十进制转二进制
2) 十进制转八进制 
3) 十进制转十六进制

例如： 十进制转二进制
* 规则:将该数不断除以 2，直到商为 0 为止，然后将每步得到的余数倒过来，就是对应的二进制。

<img src="/notes/img-ch4/DecToBin.png">

▶️ 第三组
1) 二进制转八进制
  * 从低位开始,将二进制数每三位一组，转成对应的八进制数即可。
2) 二进制转十六进制
  * 从低位开始，将二进制数每四位一组，转成对应的十六进制数即可。



▶️ 第四组
1) 八进制转二进制：将八进制数每 1 位，转成对应的一个 3 位的二进制数即可。
2) 十六进制转二进制：将十六进制数每 1 位，转成对应的 4 位的一个二进制数即可。

## 位运算的思考题
1) 请看下面的代码段，回答 a,b,c,d,e 结果是多少? 
```java
public static void main(String []args)
{
  int a=1>>2; // 1 向右位移 2 位 int b=-1>>2;//算术右移
  int c=1<<2;//算术左移
  int d=-1<<2;//
  int e=3>>>2;//无符号右移 //a,b,c,d,e 结果是多少 
  System.out.println("a="+a); 
  System.out.println("b="+b); 
  System.out.println("c="+c); 
  System.out.println("d="+d);
  System.out.println("e="+e);
}
```

2) 请回答在 java 中，下面的表达式运算的结果是: (位操作)
```java
~2=? // 按位取反 
2&3=?// 2 按位与 3 
2|3=?
~-5=?
13&7=?
5|4=?
-3^3=?//^ 按位异或
```

## 🌟🌟🌟原码、反码、补码
对于有符号的而言：
1. 二进制的最高位是符号位：0表示正数，1表示负数
2. 正数的原码、反码、补码都一样（三码合一）
3. 负数的反码 = 它的原码符号位不变，其它位取反(0 -> 1, 1 -> 0)
4. 负数的补码 = 它的反码 + 1， 负数的反码 = 负数的补码 - 1
5. 0的反码、补码都是0
6. java没有无符号数，换言之，**java中的数都是有符号的**
7. 在计算机运算的时候，都是以**补码的方式来运算**的。
8. 当我们看运算结果的时候，要看它的**原码**。